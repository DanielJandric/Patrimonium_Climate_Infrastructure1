<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Patrimonium PCIOF I - Q4 2024 Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <!-- iPhone 16 specific optimizations -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- Preload critical resources for performance -->
    <link rel="preload" href="data.js" as="script">
    <link rel="preload" href="charts.js" as="script">
    <link rel="preload" href="dashboard.js" as="script">
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header - iPhone 16 Optimized -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4">
            <h1 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 leading-tight">Patrimonium PCIOF I - Q4 2024 Performance Dashboard</h1>
            <p class="text-xs sm:text-sm text-gray-600 mt-1">Climate Infrastructure Opportunity Fund Performance Report</p>
        </div>
    </header>

    <!-- Tab Navigation - iPhone 16 Optimized -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6">
            <div class="flex space-x-2 sm:space-x-8 overflow-x-auto">
                <button class="tab-button active" data-tab="performance"
                        id="tab-performance">
                    <span class="tab-text">üìä Aper√ßu Performance</span>
                </button>
                <button class="tab-button" data-tab="portfolio"
                        id="tab-portfolio">
                    <span class="tab-text">üè¢ Portefeuille & IA</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Dashboard - iPhone 16 Optimized -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6 md:py-8">
        <!-- Performance Overview Tab -->
        <div id="tab-content-performance" class="tab-content active">
            <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Indicateurs Cl√©s de Performance (KPIs)</h2>
                <div id="kpiContainer">
                     <!-- KPI cards will be populated by JavaScript -->
                </div>
            </section>

            <!-- St√©phane Bonvin Individual Section - iPhone 16 Optimized -->
            <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Performance Individuelle - St√©phane Bonvin</h2>
                <div id="stephaneBovinSection" class="bonvin-section">
                    <!-- St√©phane Bonvin data will be populated by JavaScript -->
                </div>
            </section>

            <section class="mb-6 sm:mb-8">
                 <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">D√©ploiement du Capital</h2>
                 <div class="deployment-progress">
                    <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-2">Capital Investi / Appel√©</h3>
                    <p class="text-xs sm:text-sm text-gray-600 mb-2">82.2 M‚Ç¨ appel√©s / 121 M‚Ç¨ engag√©s (~68% investi)</p>
                     <div class="progress-bar">
                         <div class="progress-fill invested" style="width: 68%;"></div>
                     </div>
                 </div>
                 <div class="deployment-progress">
                     <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-2">Capital Disponible pour Investissement</h3>
                     <p class="text-xs sm:text-sm text-gray-600 mb-2">~39 M‚Ç¨ restants (~32% disponible)</p>
                     <div class="progress-bar">
                         <div class="progress-fill" style="width: 32%;"></div>
                     </div>
                 </div>
            </section>

             <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Faits Marquants Qualitatifs (Q4 2024)</h2>
                <div id="qualitativeHighlights" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4">
                    <!-- Qualitative highlights will be populated by JavaScript -->
                </div>
            </section>

            <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Tendances de Performance Historique</h2>
                <div class="grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">
                    <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">√âvolution de la NAV (en M‚Ç¨)</h3>
                        <div class="chart-wrapper">
                            <canvas id="navChart" width="400" height="250"></canvas>
                        </div>
                    </section>
                     <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">Tendances TVPI et RVPI</h3>
                         <div class="chart-wrapper">
                            <canvas id="tvpiChart" width="400" height="250"></canvas>
                         </div>
                    </section>
                     <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">IRR Net (%)</h3>
                        <div class="chart-wrapper">
                            <canvas id="irrChart" width="400" height="250"></canvas>
                        </div>
                    </section>
                    <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">Flux de Capital Cumul√©s (en M‚Ç¨)</h3>
                         <div class="chart-wrapper">
                             <canvas id="cumulativeFlowsChart" width="400" height="250"></canvas>
                         </div>
                    </section>
                </div>
            </section>

            <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Diversification du Portefeuille</h2>
                 <div class="grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">
                     <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">R√©partition G√©ographique</h3>
                         <div class="chart-wrapper">
                            <canvas id="geoChart" width="400" height="250"></canvas>
                         </div>
                     </section>
                      <section class="chart-container">
                         <h3 class="text-sm sm:text-md font-semibold text-gray-700 mb-3 sm:mb-4">R√©partition Sectorielle</h3>
                         <div class="chart-wrapper">
                            <canvas id="sectorChart" width="400" height="250"></canvas>
                         </div>
                     </section>
                 </div>
            </section>

             <section class="mb-6 sm:mb-8">
                 <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4 sm:mb-6">Flux de Tr√©sorerie R√©cent (Q4 2024 Exemples)</h2>
                 <div class="chart-container">
                     <div class="chart-wrapper" style="height: 160px; sm:height: 180px;">
                         <canvas id="cashFlowChart" width="400" height="180"></canvas>
                     </div>
                 </div>
             </section>
        </div>

        <!-- Portfolio & AI Analysis Tab - iPhone 16 Optimized -->
        <div id="tab-content-portfolio" class="tab-content">
            <section class="mb-6 sm:mb-8">
                <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-4
sm:mb-6">Portfolio Companies & AI Impact Analysis</h2>
                <p class="text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6">Analyse de l'exposition et des liens avec l'Intelligence Artificielle pour les principales participations du portefeuille PCIOF I.</p>

                <!-- AI Analysis Introduction - iPhone 16 Optimized -->
                <div class="ai-intro-section mb-6 sm:mb-8">
                    <div class="ai-intro-card">
                        <h3 class="ai-intro-title">Contexte de l'Analyse IA</h3>
                        <p class="ai-intro-text">
                            L'Intelligence Artificielle transforme l'infrastructure mondiale, cr√©ant une demande sans pr√©c√©dent pour les centres de donn√©es, l'√©nergie et la connectivit√©.
                            Cette analyse √©value l'exposition directe et indirecte du portefeuille PCIOF I aux tendances IA, identifiant les soci√©t√©s positionn√©es comme
                            <strong>enablers</strong> (facilitateurs) de la r√©volution IA ou utilisant l'IA pour optimiser leurs op√©rations.
                        </p>
                        <p class="ai-intro-text">
                            Les cat√©gories d'exposition incluent : <strong>√âlev√©e</strong> (infrastructure critique IA, demande hyperscale directe),
                            <strong>Mod√©r√©e</strong> (utilisation op√©rationnelle IA, strat√©gies d'investissement li√©es), et <strong>Limit√©e</strong> (liens sectoriels indirects).
                        </p>
                    </div>
                </div>

                <!-- AI Analysis Summary Cards - iPhone 16 Optimized -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8">
                    <div class="ai-summary-card high-ai">
                        <div class="ai-summary-label">Exposition IA √âlev√©e</div>
                        <div class="ai-summary-value">3</div>
                        <div class="ai-summary-context">participations</div>
                    </div>
                    <div class="ai-summary-card medium-ai">
                        <div class="ai-summary-label">Exposition IA Mod√©r√©e</div>
                        <div class="ai-summary-value">1</div>
                        <div class="ai-summary-context">participations</div>
                    </div>
                    <div class="ai-summary-card low-ai">
                        <div class="ai-summary-label">Exposition IA Limit√©e</div>
                        <div class="ai-summary-value">7</div>
                        <div class="ai-summary-context">participations</div>
                    </div>
                </div>

                 <!-- Filter/Search input - iPhone 16 Optimized -->
                 <div class="mb-4 sm:mb-6">
                     <input type="text" id="portfolioFilterInput" placeholder="Rechercher par nom, type, ou analyse IA..." class="w-full px-4 py-3 sm:py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base">
                 </div>

                <!-- Portfolio Companies Table - iPhone 16 Optimized -->
                <div class="portfolio-table-container">
                    <div class="portfolio-table-header">
                        <div class="portfolio-header-cell company-column" data-sort="name">
                            Soci√©t√©/Fonds 
                            <span class="sort-indicator"></span>
                        </div>
                        <div class="portfolio-header-cell ai-level-column" data-sort="aiLevel">
                            Niveau IA 
                            <span class="sort-indicator"></span>
                        </div>
                        <div class="portfolio-header-cell ai-analysis-column" data-sort="aiAnalysis">
                            Analyse & Liens IA 
                            <span class="sort-indicator"></span>
                        </div>
                    </div>
                    <div id="portfolioTableBody">
                        <!-- Portfolio companies will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- AI Impact Charts - iPhone 16 Optimized -->
            <div class="grid grid-cols-1 xl:grid-cols-1 gap-4 sm:gap-6 lg:gap-8 mt-6 sm:mt-8">
                <section class="chart-container">
                    <h2 class="text-base sm:text-lg md:text-xl font-semibold text-gray-800 mb-3 sm:mb-4">R√©partition par Niveau d'Exposition IA</h2>
                    <div class="chart-wrapper">
                        <canvas id="aiExposureChart" width="400" height="250"></canvas>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Scripts - Optimized loading order for iPhone 16 -->
    <script src="data.js"></script>
    <script src="charts.js"></script>
    <script src="dashboard.js"></script>
    
    <!-- Performance monitoring for iPhone 16 -->
    <script>
        // Performance optimization for iPhone 16
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // Register service worker for caching if needed in production
                console.log('Service Worker support detected');
            });
        }
        
        // Handle viewport changes for iPhone 16
        window.addEventListener('resize', function() {
            // Update CSS custom properties for dynamic viewport
            document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
        });
        
        // Initial viewport setup
        document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
    </script>
</body>
</html>
